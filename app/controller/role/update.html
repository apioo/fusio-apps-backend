
<div class="modal-header">
    <h3 class="modal-title">Create</h3>
</div>

<div class="modal-body">
    <div uib-alert class="alert-danger" close="closeResponse()" ng-if="response.success === false">
        {{response.message}}
    </div>
    <form name="roleUpdateForm" ng-submit="update(role)">
        <input type="hidden" ng-model="role.id" value="{{role.id}}" />
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" ng-model="role.name" aria-describedby="nameHelp" class="form-control">
            <span class="help-block" id="nameHelp"></span>
        </div>
        <div class="form-group">
            <label for="category">Category:</label>
            <select class="form-control" id="category" ng-model="role.categoryId" ng-options="category.id as category.name for category in categories" aria-describedby="categoryHelp">
            </select>
            <span class="help-block" id="categoryHelp">Default category for this role</span>
        </div>

        <uib-tabset>
            <uib-tab heading="{{ category.name }}" ng-repeat="category in categories">
                <table class="table fusio-table-tab">
                    <colgroup>
                        <col width="20" />
                        <col width="*" />
                    </colgroup>
                    <tbody>
                    <tr ng-repeat="scope in category.scopes">
                        <td><input type="checkbox" value="{{scope.name}}" id="scope-{{scope.id}}" ng-checked="selected.indexOf(scope.name) > -1" ng-change="toggleScope(scope.name)"></td>
                        <td><label for="scope-{{scope.id}}">{{scope.name}}</label></td>
                    </tr>
                    </tbody>
                </table>
            </uib-tab>
        </uib-tabset>

        <button type="submit" class="btn btn-primary fusio-btn-save">Save</button>
        <button type="button" ng-click="close()" class="btn btn-default fusio-btn-cancel">Cancel</button>
    </form>
</div>
