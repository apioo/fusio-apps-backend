
<div class="row">
  <div class="col-3">
    <select [id]="name + '_scheme'" [name]="name + '_scheme'" [(ngModel)]="scheme" (ngModelChange)="changeScheme()" [disabled]="disabled" class="form-select">
      <option *ngFor="let scheme of schemes" [ngValue]="scheme.key">{{scheme.value}}</option>
    </select>
  </div>
  <div class="col-9">
    <div class="input-group">
      <ng-container [ngSwitch]="scheme">
        <ng-container *ngSwitchCase="'schema'">
          <input
            type="text"
            [id]="name + '_value'"
            [name]="name + '_value'"
            class="form-control"
            [(ngModel)]="selected"
            [ngbTypeahead]="objectSearch"
            (focus)="focus$.next($any($event).target.value)"
            [inputFormatter]="objectFormatter"
            [resultFormatter]="objectFormatter"
            [editable]="false"
            (ngModelChange)="changeValue()"
            [disabled]="disabled"
          />
          <button class="btn btn-outline-secondary" type="button" disabled *ngIf="searching">
            <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
            <span class="visually-hidden" role="status">Loading...</span>
          </button>
          <button class="btn btn-outline-secondary" type="button" [ngbPopover]="schemeHelp"><i class="bi bi-question"></i></button>
          <ng-template #schemeHelp>Loads a schema from the internal schema store. Type a name to select a fitting schema. If you can not find a fitting schema you can also create a new schema at the schema panel.</ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="'php+class'">
          <input type="text" [id]="name + '_value'" [name]="name + '_value'" [(ngModel)]="value" (ngModelChange)="changeValue()" [disabled]="disabled" class="form-control">
          <button class="btn btn-outline-secondary" type="button" [ngbPopover]="schemeHelp"><i class="bi bi-question"></i></button>
          <ng-template #schemeHelp>Loads a schema from a PHP class i.e. <code>App.Model.MyModel</code>.</ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="'http'">
          <input type="text" [id]="name + '_value'" [name]="name + '_value'" [(ngModel)]="value" (ngModelChange)="changeValue()" [disabled]="disabled" class="form-control">
          <button class="btn btn-outline-secondary" type="button" [ngbPopover]="schemeHelp"><i class="bi bi-question"></i></button>
          <ng-template #schemeHelp>Loads a schema from a HTTP url.</ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="'https'">
          <input type="text" [id]="name + '_value'" [name]="name + '_value'" [(ngModel)]="value" (ngModelChange)="changeValue()" [disabled]="disabled" class="form-control">
          <button class="btn btn-outline-secondary" type="button" [ngbPopover]="schemeHelp"><i class="bi bi-question"></i></button>
          <ng-template #schemeHelp>Loads a schema from a HTTPS url.</ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="'file'">
          <input type="text" [id]="name + '_value'" [name]="name + '_value'" [(ngModel)]="value" (ngModelChange)="changeValue()" [disabled]="disabled" class="form-control">
          <button class="btn btn-outline-secondary" type="button" [ngbPopover]="schemeHelp"><i class="bi bi-question"></i></button>
          <ng-template #schemeHelp>Loads a schema from a local file.</ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="'typehub'">
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>

