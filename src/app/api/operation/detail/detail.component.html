<div class="card" *ngIf="selected">
  <div class="card-header"><a href="{{baseUrl}}{{selected?.httpPath}}" class="fusio-route-path">{{selected?.name}}</a></div>
  <div class="card-body">
    <div class="btn-group" role="group">
      <button type="button" (click)="doUpdateClick()" class="btn btn-primary fusio-btn-update">Update</button>
      <button type="button" (click)="showLogs()" class="btn btn-secondary fusio-btn-logs">Logs</button>
      <button type="button" (click)="doDeleteClick()" class="btn btn-danger fusio-btn-delete">Delete</button>
    </div>
    <div class="float-end fusio-route-scope">
      <fusio-scopes [scopes]="selected?.scopes"></fusio-scopes>
    </div>
    <div class="fusio-detail">
      <div class="row">
        <div class="col-2 fw-bold">Stability</div>
        <div class="col-10">
          <span *ngIf="selected?.stability === 0" class="badge bg-warning fusio-operation-stability">Deprecated</span>
          <span *ngIf="selected?.stability === 1" class="badge bg-success fusio-operation-stability">Experimental</span>
          <span *ngIf="selected?.stability === 2" class="badge bg-info fusio-operation-stability">Stable</span>
          <span *ngIf="selected?.stability === 3" class="badge bg-secondary fusio-operation-stability">Legacy</span>
        </div>
      </div>
      <div class="row">
        <div class="col-2 fw-bold">Status</div>
        <div class="col-10">
          <span *ngIf="selected?.active === true" class="badge bg-success fusio-route-active">Active</span>
          <span *ngIf="selected?.active !== true" class="badge bg-secondary fusio-route-active">Inactive</span>
          <span *ngIf="selected?.public === true" class="badge bg-primary fusio-route-public">Public</span>
          <span *ngIf="selected?.public !== true" class="badge bg-info fusio-route-public">Private</span>
        </div>
      </div>
      <div class="row" *ngIf="selected?.name">
        <div class="col-2 fw-bold">Name</div>
        <div class="col-10"><code class="fusio-operation-name">{{selected?.name}}</code></div>
      </div>
      <div class="row" *ngIf="selected?.description">
        <div class="col-2 fw-bold">Description</div>
        <div class="col-10"><span class="fusio-operation-description">{{selected?.description}}</span></div>
      </div>
      <div class="row" *ngIf="selected?.parameters">
        <div class="col-2 fw-bold">Parameters</div>
        <div class="col-8"><span class="fusio-operation-parameters">{{selected?.parameters}}</span></div>
        <div class="col-2"><button routerLink="/schema/~{{selected?.parameters}}" type="button" class="btn btn-secondary float-end"><i class="bi bi-search"></i></button></div>
      </div>
      <div class="row" *ngIf="selected?.incoming">
        <div class="col-2 fw-bold">Incoming</div>
        <div class="col-8"><span class="fusio-operation-incoming">{{selected?.incoming}}</span></div>
        <div class="col-2"><button routerLink="/schema/~{{selected?.incoming}}" type="button" class="btn btn-secondary float-end"><i class="bi bi-search"></i></button></div>
      </div>
      <div class="row" *ngIf="selected?.outgoing">
        <div class="col-2 fw-bold">Outgoing</div>
        <div class="col-8"><span class="fusio-operation-outgoing">{{selected?.outgoing}}</span></div>
        <div class="col-2"><button routerLink="/schema/~{{selected?.outgoing}}" type="button" class="btn btn-secondary float-end"><i class="bi bi-search"></i></button></div>
      </div>
      <div class="row" *ngIf="selected?.throws">
        <div class="col-2 fw-bold">Throws</div>
        <div class="col-10">
          <div class="row" *ngFor="let throw_ of selected?.throws | keyvalue">
            <div class="col-2"><code>{{throw_.key}}</code></div>
            <div class="col-8"><span class="fusio-operation-throw">{{throw_.value}}</span></div>
            <div class="col-2"><button routerLink="/schema/~{{throw_.value}}" type="button" class="btn btn-secondary float-end"><i class="bi bi-search"></i></button></div>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="selected?.action">
        <div class="col-2 fw-bold">Action</div>
        <div class="col-8"><span class="fusio-operation-action">{{selected?.action}}</span></div>
        <div class="col-2"><button routerLink="/action/~{{selected?.action}}" type="button" class="btn btn-secondary float-end"><i class="bi bi-search"></i></button></div>
      </div>
      <div class="row" *ngIf="selected?.costs">
        <div class="col-2 fw-bold">Costs</div>
        <div class="col-10"><span class="fusio-operation-costs align-middle">{{selected?.costs}}</span></div>
      </div>
    </div>
  </div>
</div>
